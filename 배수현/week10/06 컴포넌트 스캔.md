# 06 컴포넌트 스캔

**목차**

### 01 컴포넌트 스캔과 의존관계 자동 주입 시작하기

- 기존
    - 자바 코드의 @Bean 이나 XML의 <bean> 등을 사용해서 직접 등록할 스프링 빈을 나열
    - 설정 정보가 방대해지고 일일이 등록하는 과정이 반복된다.
- **컴포넌트 스캔**
    - 설정 정보가 없어도 자동으로 스프링 빈을 등록하는 기능
    - 의존관계 자동 주입 `@Autowired` 기능 제공

Component Scan을 사용한 AppConfig

```java
package hello.core;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.FilterType;

@Configuration //설정 정보임을 나타내는 어노테이션
@ComponentScan ( //자동으로 @component가 붙은 스프링 빈을 끌어오는 기능
        //기존의 수동으로 스프링 빈을 등록해주던 AppConfig도 @component가 붙어있기 때문에 자동 목록에서 제외해줘야 함
        excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = Configuration.class)
)
public class AutoAppConfig {
    
}
```

- 기존의 AppConfig과는 다르게 @Bean으로 등록한 클래스가 존재하지 않음

🔽 기존의 AppConfig

```java
@Configuration
public class AppConfig {
    @Bean
    public MemberService memberService(){
        return  new MemberServiceImpl(memberRepository());
    }
    @Bean
    public OrderService orderService(){
        return new OrderServiceImpl(memberRepository(), discountPolicy());

    }
    @Bean
    public MemoryMemberRepository memberRepository() {
        return new MemoryMemberRepository();
    }

    @Bean
    public DiscountPolicy discountPolicy(){
//        return new FIxDiscountPolicy();
        return new RateDiscountPolicy();
    }
}
```

**참고**

- 컴포넌트 스캔을 사용하면 @Configuration이 붙은 설정 정보도 자동으로 등록된다.
- 때문에 AppConfig, TestConfig 등 앞서 만들어두었던 설정 정보 또한 같이 등록, 실행된다.
